<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      lang="en">
<head>
  <meta charset="UTF-8">
  <title>Manage ingredients</title>
  <link href="/../bootstrap/bootstrap-5.3.0-alpha3-dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="/../bootstrap/bootstrap-5.3.0-alpha3-dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
<div sec:authorize="hasRole('ADMIN')"><div th:insert="fragments/admin-header :: admin-header"></div></div>
<div th:insert="fragments/header :: header"></div>
<div th:if="${!allingredients.empty}">
  <table>
    <tr>
      <th>Manage ingredients</th>
    </tr>
    <tr th:each="ingredient: ${allingredients}">
      <td>
        <span th:text="${ingredient.id}"></span>
        <a th:href="@{'/ingredient/get/' + ${ingredient.id}}" th:text="${ingredient.name}"></a>
        <a class="btn btn-primary" th:href="@{'/ingredient/update/' + ${ingredient.id}}" role="button">UPDATE</a>
        <a role="button" class="btn btn-danger" th:href="@{'/ingredient/delete/' + ${ingredient.id}}"
           th:data-confirm-delete="|Do you want to delete this ingredient: ${ingredient.name}?|"
           onclick="if (!confirm(this.getAttribute('data-confirm-delete'))) return false">DELETE</a>

      </td>
    </tr>
  </table>
</div>

</table>
<div th:if="${allingredients.empty}">Ingredients list is empty!</div>
<br>
<form>
  <input type="button" value="Go back!" onclick="history.back()">
</form>


<div th:insert="fragments/footer :: footer"></div>
</body>
</html>